(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94179,e=>{"use strict";var t=e.i(43476),a=e.i(91918),s=e.i(25913),r=e.i(47163);let i=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,asChild:n=!1,...l}){let o=n?a.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,r.cn)(i({variant:s}),e),...l})}e.s(["Badge",()=>n])},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>n,"CardFooter",()=>o,"CardHeader",()=>r,"CardTitle",()=>i])},12426,e=>{"use strict";let t=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},27341,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(81140),r=e.i(30030),i=e.i(42727),n=e.i(96626),l=e.i(48425),o=e.i(86318),d=e.i(69340),c=e.i(10772),u="Tabs",[x,m]=(0,r.createContextScope)(u,[i.createRovingFocusGroupScope]),v=(0,i.createRovingFocusGroupScope)(),[h,g]=x(u),p=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,onValueChange:i,defaultValue:n,orientation:u="horizontal",dir:x,activationMode:m="automatic",...v}=e,g=(0,o.useDirection)(x),[p,f]=(0,d.useControllableState)({prop:r,onChange:i,defaultProp:n});return(0,t.jsx)(h,{scope:s,baseId:(0,c.useId)(),value:p,onValueChange:f,orientation:u,dir:g,activationMode:m,children:(0,t.jsx)(l.Primitive.div,{dir:g,"data-orientation":u,...v,ref:a})})});p.displayName=u;var f="TabsList",b=a.forwardRef((e,a)=>{let{__scopeTabs:s,loop:r=!0,...n}=e,o=g(f,s),d=v(s);return(0,t.jsx)(i.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:r,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:a})})});b.displayName=f;var j="TabsTrigger",y=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:n,disabled:o=!1,...d}=e,c=g(j,r),u=v(r),x=w(c.baseId,n),m=T(c.baseId,n),h=n===c.value;return(0,t.jsx)(i.Item,{asChild:!0,...u,focusable:!o,active:h,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:x,...d,ref:a,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(n)})})})});y.displayName=j;var C="TabsContent",N=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:i,forceMount:o,children:d,...c}=e,u=g(C,r),x=w(u.baseId,i),m=T(u.baseId,i),v=i===u.value,h=a.useRef(v);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:o||v,children:({present:a})=>(0,t.jsx)(l.Primitive.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":x,hidden:!a,id:m,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:a&&d})})});function w(e,t){return`${e}-trigger-${t}`}function T(e,t){return`${e}-content-${t}`}N.displayName=C;var k=e.i(47163);function D({className:e,...a}){return(0,t.jsx)(p,{"data-slot":"tabs",className:(0,k.cn)("flex flex-col gap-2",e),...a})}function R({className:e,...a}){return(0,t.jsx)(b,{"data-slot":"tabs-list",className:(0,k.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...a})}function A({className:e,...a}){return(0,t.jsx)(y,{"data-slot":"tabs-trigger",className:(0,k.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function S({className:e,...a}){return(0,t.jsx)(N,{"data-slot":"tabs-content",className:(0,k.cn)("flex-1 outline-none",e),...a})}e.s(["Tabs",()=>D,"TabsContent",()=>S,"TabsList",()=>R,"TabsTrigger",()=>A],27341)},23261,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(15760),i=e.i(70065),n=e.i(27341),l=e.i(94179),o=e.i(67881),d=e.i(61911),c=e.i(87316),u=e.i(8402),x=e.i(69638),m=e.i(73884),v=e.i(3116),h=e.i(12426);function g(){(0,s.useRouter)();let[e,g]=(0,a.useState)(!0),[p,f]=(0,a.useState)(null),[b,j]=(0,a.useState)([]),[y,C]=(0,a.useState)([]);(0,a.useEffect)(()=>{N(),w(),T()},[]);let N=async()=>{try{let e=await r.apiClient.request("/api/admin/dashboard");e.success&&f(e.metrics)}catch(e){console.error("Failed to fetch dashboard:",e)}finally{g(!1)}},w=async()=>{try{let e=await r.apiClient.request("/api/admin/events");e.success&&j(e.events||[])}catch(e){console.error("Failed to fetch events:",e)}},T=async()=>{try{let e=await r.apiClient.request("/api/admin/users");e.success&&C(e.users||[])}catch(e){console.error("Failed to fetch users:",e)}},k=async e=>{try{(await r.apiClient.request(`/api/admin/events/${e}/approve`,{method:"POST"})).success&&(w(),N())}catch(e){console.error("Failed to approve event:",e)}},D=async(e,t)=>{try{(await r.apiClient.request(`/api/admin/users/${e}`,{method:"PATCH",body:JSON.stringify({role:t})})).success&&T()}catch(e){console.error("Failed to update user:",e)}},R=({title:e,value:a,icon:s,color:r})=>(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:e}),(0,t.jsx)(s,{className:`h-4 w-4 ${r}`})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:a})})]}),A=b.filter(e=>"DRAFT"===e.status);return e?(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-32 bg-muted rounded-lg"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"h-24 bg-muted rounded-lg"},e))})]})}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage platform, approve events, and monitor activity"})]}),p&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(R,{title:"Total Users",value:p.totalUsers,icon:d.Users,color:"text-blue-500"}),(0,t.jsx)(R,{title:"Total Events",value:p.totalEvents,icon:c.Calendar,color:"text-green-500"}),(0,t.jsx)(R,{title:"Tickets Sold",value:p.totalTickets,icon:u.Ticket,color:"text-purple-500"}),(0,t.jsx)(R,{title:"Platform Revenue",value:`₹${p.platformRevenue.toLocaleString()}`,icon:h.DollarSign,color:"text-orange-500"})]}),A.length>0&&(0,t.jsx)(i.Card,{className:"mb-8 border-orange-500",children:(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Clock,{className:"h-5 w-5 text-orange-500"}),(0,t.jsx)(i.CardTitle,{children:"Pending Approvals"})]}),(0,t.jsxs)(i.CardDescription,{children:[A.length," event(s) waiting for approval"]})]})}),(0,t.jsxs)(n.Tabs,{defaultValue:"events",className:"space-y-6",children:[(0,t.jsxs)(n.TabsList,{children:[(0,t.jsxs)(n.TabsTrigger,{value:"events",children:["Events (",b.length,")"]}),(0,t.jsxs)(n.TabsTrigger,{value:"users",children:["Users (",y.length,")"]})]}),(0,t.jsx)(n.TabsContent,{value:"events",className:"space-y-4",children:0===b.length?(0,t.jsxs)(i.Card,{className:"p-12 text-center",children:[(0,t.jsx)(c.Calendar,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"No events yet"})]}):b.map(e=>(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(i.CardTitle,{children:e.title}),(0,t.jsxs)(i.CardDescription,{className:"mt-1",children:[e.organizer?.name," • ",e.venue.city]})]}),(0,t.jsx)(l.Badge,{variant:"PUBLISHED"===e.status?"default":"DRAFT"===e.status?"secondary":"outline",children:e.status})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.category," • ",new Date(e.startDate).toLocaleDateString()]}),"DRAFT"===e.status&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(o.Button,{size:"sm",onClick:()=>k(e.id),children:[(0,t.jsx)(x.CheckCircle,{className:"h-4 w-4 mr-2"}),"Approve"]}),(0,t.jsxs)(o.Button,{size:"sm",variant:"outline",children:[(0,t.jsx)(m.XCircle,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})})]},e.id))}),(0,t.jsx)(n.TabsContent,{value:"users",className:"space-y-4",children:0===y.length?(0,t.jsxs)(i.Card,{className:"p-12 text-center",children:[(0,t.jsx)(d.Users,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"No users yet"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(e=>(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(i.CardTitle,{className:"text-lg",children:e.name}),(0,t.jsx)(i.CardDescription,{children:e.email})]}),(0,t.jsx)(l.Badge,{children:e.role})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-xs text-muted-foreground font-mono",children:[e.walletAddress.slice(0,10),"...",e.walletAddress.slice(-8)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("select",{className:"text-sm border rounded px-2 py-1",value:e.role,onChange:t=>D(e.id,t.target.value),children:[(0,t.jsx)("option",{value:"BUYER",children:"Buyer"}),(0,t.jsx)("option",{value:"ORGANIZER",children:"Organizer"}),(0,t.jsx)("option",{value:"PROMOTER",children:"Promoter"}),(0,t.jsx)("option",{value:"INSPECTOR",children:"Inspector"}),(0,t.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,t.jsx)(l.Badge,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]})]})})]},e.id))})})]})]})}e.s(["default",()=>g])}]);